{"version":3,"file":"harbour-react-native-runner.min.js","sources":["../web_src/tools/util.js","../web_src/ui.js","../web_src/player.js","../web_src/leaderboard.js","../web_src/payments.js","../web_src/ads.js","../web_src/index.js","../web_src/context.js","../web_src/startup.js"],"sourcesContent":["\nexport function asyncSeries(list,callback) {\n  function _run(index,list,callback) {\n    const item = list[index];\n    if (item) {\n      item(err => {\n        if (err) {\n          callback(err);\n        } else {\n          _run(index + 1,list,callback);\n        }\n      });\n    } else {\n      callback();\n    }\n  }\n  _run(0,list,callback);\n}\nexport function resolveStyles(...args) {\n  const obj = {};\n\n  function _addStyle(arg) {\n    if (Array.isArray(arg)) {\n      arg.forEach(_addStyle);\n    } else {\n      for (const key in arg) {\n        obj[key] = arg[key];\n      }\n    }\n  }\n\n  _addStyle(args);\n\n  let s = \"\";\n  for (const key in obj) {\n    const val = obj[key];\n    s += key + \":\" + val + \";\";\n  }\n  return s;\n}\nexport function queryString(query) {\n  const query_list = [];\n  for (const key in query) {\n    const val = query[key];\n    query_list.push(`${encodeURIComponent(key)}=${encodeURIComponent(val)}`);\n  }\n  return query_list.join(\"&\");\n}\nexport function loadScript(url,done) {\n  const new_script = document.createElement(\"script\");\n  new_script.onerror = done;\n  new_script.onload = event => done(null,event);\n  document.head.appendChild(new_script);\n  new_script.src = url;\n}\n\nlet g_callbackIndex = 1;\nconst g_callbackMap = {};\n\nexport function hasReactNative() {\n  return window.ReactNativeWebView && window.ReactNativeWebView.postMessage;\n}\n\nexport function sendHost(event,extra,cb) {\n  if (extra === undefined) {\n    extra = null;\n  }\n  let callback_index;\n  if (cb) {\n    callback_index = g_callbackIndex++;\n    g_callbackMap[callback_index] = cb;\n  }\n  const json = JSON.stringify({ event, extra, callback_index });\n  if (hasReactNative()) {\n    window.ReactNativeWebView.postMessage(json);\n  } else {\n    console.log(json);\n  }\n}\n\nconst g_eventMap = {};\nexport function onMessage(event,handler) {\n  if (event in g_eventMap) {\n    g_eventMap[event].push(handler);\n  } else {\n    g_eventMap[event] = [handler];\n  }\n}\nexport function emitMessage(event,err,result,callback_index) {\n  try {\n    const list = g_eventMap[event];\n    if (list && !err) {\n      list.forEach(cb => cb(result));\n    }\n\n    if (callback_index) {\n      const cb = g_callbackMap[callback_index];\n      if (cb) {\n        delete g_callbackMap[callback_index];\n        cb(err,result);\n      }\n    }\n  } catch (error) {\n    log(\"emit_throw\",error.stack);\n  }\n  return true;\n}\n\nexport function log(log_event_name,extra) {\n  sendHost(\"log\",{ log_event_name, extra });\n}\n","\nimport { resolveStyles } from './tools/util.js';\n\nexport default {\n  addLoader,\n  removeLoader,\n  setLoaderText,\n  addLoginButton,\n  removeLoginButton,\n  addBlockError,\n};\n\nconst styles = {\n  loader: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    background: 'transparent center center no-repeat',\n    'background-size': 'cover',\n\n    display: 'flex',\n    'flex-direction': 'column',\n    'justify-content': 'center',\n    'align-items': 'center',\n    'font-family': 'Helvetica, Arial, sans-serif',\n    'font-weight': 'normal',\n   },\n  cover: {\n    'z-index': '0',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    background: 'rgba(0,0,0,0.3)',\n\n    display: 'flex',\n    'flex-direction': 'column',\n    'justify-content': 'center',\n    'align-items': 'center',\n  },\n  middleLoader: {\n    'z-index': '1',\n    position: 'relative',\n    width: '100px',\n    height: '100px',\n    'border-radius': '50%',\n    overflow: 'hidden',\n  },\n  icon: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    margin: '10px',\n    'border-radius': '50%',\n    background: '#333 center center no-repeat',\n    'background-size': 'cover',\n  },\n  spinner: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    border: '10px solid',\n    'border-color': 'blue black blue black',\n    'border-radius': '50%',\n    animation: 'harbour-loader-spinner 2s linear infinite',\n  },\n  loaderText: {\n    'z-index': '1',\n    'margin-top': '20px',\n    color: 'white',\n    'font-size': '16px',\n    'font-weight': 'bold',\n    'font-family': 'inherit',\n    'text-shadow': '0 0 5px black',\n  },\n  loginButton: {\n    position: 'absolute',\n    bottom: '60px',\n    'margin-left': 'auto',\n    'margin-right': 'auto',\n    height: '40px',\n    width: '236px',\n\n    background: '#4267b2',\n    'border-radius': '4px',\n    cursor: 'pointer',\n\n    display: 'flex',\n    'flex-direction': 'row',\n    'justify-content': 'center',\n    'align-items': 'center',\n  },\n  loginIcon: {\n    position: 'absolute',\n    top: '8px',\n    left: '10px',\n    width: '24px',\n    height: '24px',\n  },\n  buttonText: {\n    'margin-left': '24px',\n    'margin-top': '2px',\n    color: 'white',\n    'font-size': '16px',\n    'font-family': 'inherit',\n  },\n  errorText: {\n    'z-index': '1',\n    'margin-top': '10px',\n    padding: '20px',\n    color: 'red',\n    'font-size': '16px',\n    'font-family': 'inherit',\n    'text-align': 'center',\n    'text-shadow': '0 0 5px black',\n  },\n}\n\nfunction addLoader(opts) {\n  let loader_style;\n  if (opts && opts.backgroundImage) {\n    const style = { 'background-image': 'url(' + opts.backgroundImage + ')' };\n    loader_style = resolveStyles([styles.loader,style]);\n  } else {\n    loader_style = resolveStyles(styles.loader);\n  }\n  let icon_style;\n  if (opts && opts.iconImage) {\n    const style = { 'background-image': 'url(' + opts.iconImage + ')' };\n    icon_style = resolveStyles([styles.icon,style]);\n  } else {\n    icon_style = resolveStyles(styles.icon);\n  }\n\n  const html =\n`<div id='harbour-loader' style='${loader_style}'>\n  <div class='harbour-cover' style='${resolveStyles(styles.cover)}'></div>\n  <div class='harbour-loader' style='${resolveStyles(styles.middleLoader)}'>\n    <div class='harbour-spinner' style='${resolveStyles(styles.spinner)}'></div>\n    <div class='harbour-spinner-icon' style='${icon_style}'></div>\n  </div>\n  <div id='harbour-loader-text' style='${resolveStyles(styles.loaderText)}'>0% Loaded</div>\n</div>`;\n\n  const temp = document.createElement('div');\n  temp.innerHTML = html;\n\n  document.body.appendChild(temp.firstChild);\n\n  const css =\n`@keyframes harbour-loader-spinner {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n`;\n  const style = document.createElement('style');\n  style.type = 'text/css';\n  style.appendChild(document.createTextNode(css));\n  document.head.appendChild(style);\n}\n\nfunction removeLoader() {\n  const el = document.getElementById('harbour-loader');\n  document.body.removeChild(el);\n}\n\nfunction setLoaderText(text) {\n  const text_el = document.getElementById('harbour-loader-text');\n  text_el.innerText = text\n}\nfunction addLoginButton() {\n  const html =\n`<div id='harbour-loader-login-button' style='${resolveStyles(styles.loginButton)}' onclick='window.HarbourSDK.player.onLoginButtonPress()'>\n  <svg xmlns='http://www.w3.org/2000/svg' style='${resolveStyles(styles.loginIcon)}' viewBox='0 0 216 216' color='#FFFFFF'>\n    <path fill='#FFFFFF' d='\n M204.1 0H11.9C5.3 0 0 5.3 0 11.9v192.2c0 6.6 5.3 11.9 11.9\n 11.9h103.5v-83.6H87.2V99.8h28.1v-24c0-27.9 17-43.1 41.9-43.1\n 11.9 0 22.2.9 25.2 1.3v29.2h-17.3c-13.5 0-16.2 6.4-16.2\n 15.9v20.8h32.3l-4.2 32.6h-28V216h55c6.6 0 11.9-5.3\n 11.9-11.9V11.9C216 5.3 210.7 0 204.1 0z'>\n    </path>\n  </svg>\n  <div style='${resolveStyles(styles.buttonText)}'>Continue With Facebook</div>\n</div>`;\n\n   _appendHtmlToLoader(html);\n}\nfunction removeLoginButton() {\n  const login = document.getElementById('harbour-loader-login-button');\n  const loader = document.getElementById('harbour-loader');\n\n  login && loader && loader.removeChild(login);\n}\n\nfunction addBlockError() {\n  const html =\n`<div style='${resolveStyles(styles.errorText)}'>\n  Error communicating with Facebook.<br/>\n  This site requires Facebook login.<br/>\n  Please check your adblocker or reload the page.\n</div>`;\n\n  _appendHtmlToLoader(html);\n}\n\nfunction _appendHtmlToLoader(html) {\n  const loader = document.getElementById('harbour-loader');\n  const temp = document.createElement('div');\n  temp.innerHTML = html;\n  loader.appendChild(temp.firstChild);\n}\n","\nimport { onMessage, sendHost, } from './tools/util.js';\n\nexport const player = {\n  getID,\n  getName,\n  getPhoto,\n  getDataAsync,\n  setDataAsync,\n  getStatsAsync,\n  setStatsAsync,\n  incrementStatsAsync,\n  flushDataAsync,\n  getConnectedPlayersAsync,\n  getSignedPlayerInfoAsync,\n  canSubscribeBotAsync,\n  subscribeBotAsync,\n};\nexport default {\n  init,\n  player,\n};\n\nlet g_id = 0;\nlet g_name = \"\";\nlet g_photo = null;\n\nexport function init(done) {\n  onMessage(\"player\",_onPlayer);\n  sendHost(\"player\",null,() => {\n    done();\n  });\n}\n\nfunction _onPlayer(player) {\n  g_id = player.id;\n  g_name = player.name;\n  g_photo = player.photo;\n}\n\nfunction getID() {\n  return g_id;\n}\nfunction getName() {\n  return g_name;\n}\nfunction getPhoto() {\n  return g_photo;\n}\nfunction getDataAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\nfunction setDataAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\nfunction getStatsAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\nfunction setStatsAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\nfunction incrementStatsAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\nfunction flushDataAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\nfunction getConnectedPlayersAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\nfunction getSignedPlayerInfoAsync() {\n  return Promise.resolve({\n    getSignature: () => \"\",\n    getPlayerID: getID,\n  });\n}\nfunction canSubscribeBotAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\nfunction subscribeBotAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\n","\nimport { onMessage, sendHost, } from './tools/util.js';\nimport Player from './player';\n\nexport default {\n  init,\n  getLeaderboardAsync,\n};\n\nconst g_leaderboardMap = {};\n\nexport function init(done) {\n  onMessage(\"leaderboard_list\",_onList);\n\n  sendHost(\"leaderboard_list\",null,() => {\n    done();\n  });\n}\nexport function getLeaderboardAsync(name) {\n  const leaderboard = g_leaderboardMap[name];\n  if (leaderboard) {\n    return Promise.resolve(leaderboard);\n  } else {\n    return Promise.reject({ code: \"LEADERBOARD_NOT_FOUND\", });\n  }\n}\n\nfunction _onList(list) {\n  list.forEach(name => {\n    g_leaderboardMap[name] = new Leaderboard(name);\n  });\n}\n\nclass Leaderboard {\n  constructor(name) {\n    this.name = name;\n  }\n  getName() {\n    return this.name;\n  }\n  getContextID() {\n    return null;\n  }\n  getEntryCountAsync() {\n    return new Promise((resolve,reject) => {\n      const extra = { name: this.name };\n      sendHost(\"leaderboard_entry_count\",extra,(err,count) => {\n        if (err) {\n          reject({ code: err });\n        } else {\n          resolve(count);\n        }\n      });\n    });\n  }\n  setScoreAsync(score,extraData) {\n    return new Promise((resolve,reject) => {\n      const extra = { name: this.name, score, extraData };\n      sendHost(\"leaderboard_set_score\",extra,(err,result) => {\n        if (err) {\n          reject({ code: err });\n        } else {\n          const { timestamp, rank } = result;\n          const player = Player.player;\n          const entry = new LeaderboardEntry(score,timestamp,rank,extraData,player);\n          resolve(entry);\n        }\n      });\n    });\n  }\n  getPlayerEntryAsync() {\n    return new Promise((resolve,reject) => {\n      const extra = { name: this.name, };\n      sendHost(\"leaderboard_player_entry\",extra,(err,result) => {\n        if (err) {\n          reject({ code: err });\n        } else if (!result) {\n          resolve(null);\n        } else {\n          const { rank, score, timestamp, extraData } = result;\n          const player = Player.player;\n          const entry = new LeaderboardEntry(score,timestamp,rank,extraData,player);\n          resolve(entry);\n        }\n      });\n    });\n  }\n  getEntriesAsync(count,offset) {\n    return new Promise((resolve,reject) => {\n      const extra = { name: this.name, count, offset };\n      sendHost(\"leaderboard_entries\",extra,(err,results) => {\n        if (err) {\n          reject({ code: err });\n        } else {\n          const entry_list = results.map(result => {\n            const { score, timestamp, rank, extraData, id, name, photo } = result;\n            const player = new LeaderboardPlayer(id,name,photo);\n            const entry = new LeaderboardEntry(score,timestamp,rank,extraData,player);\n            return entry;\n          });\n         resolve(entry_list);\n        }\n      });\n    });\n  }\n  getConnectedPlayerEntriesAsync() {\n    return Promise.resolve([]);\n  }\n}\n\nclass LeaderboardEntry {\n  constructor(score,timestamp,rank,extra_data,player) {\n    this.score = score;\n    this.timestamp = timestamp;\n    this.rank = rank;\n    this.extra_data = extra_data;\n    this.player = player;\n  }\n  getScore() {\n    return this.score;\n  }\n  getFormattedScore() {\n    return this.score;\n  }\n  getTimestamp() {\n    return this.timestamp;\n  }\n  getRank() {\n    return this.rank;\n  }\n  getExtraData() {\n    return this.extra_data\n  }\n  getPlayer() {\n    return this.player;\n  }\n}\n\nclass LeaderboardPlayer {\n  constructor(id,name,photo) {\n    this.id = id;\n    this.name = name;\n    this.photo = photo;\n  }\n  getID() {\n    return this.id;\n  }\n  getName() {\n    return this.name;\n  }\n  getPhoto() {\n    return this.photo;\n  }\n}\n","\nexport default {\n  init,\n  payments,\n};\nexport const payments = {\n  onReady,\n  getCatalogAsync,\n  purchaseAsync,\n  getPurchasesAsync,\n  consumePurchaseAsync,\n};\n\nfunction init(done) {\n  done && done();\n}\nfunction onReady(callback) {\n  callback && callback();\n}\nfunction getCatalogAsync() {\n  return Promise.resolve([]);\n}\nfunction purchaseAsync() {\n  return Promise.reject({ code: 'UNSUPPORTED_OPERATION' });\n}\nfunction getPurchasesAsync() {\n  return Promise.resolve([]);\n}\nfunction consumePurchaseAsync() {\n  return Promise.resolve();\n}\n","\nimport { sendHost } from './tools/util.js';\n\nexport function getInterstitialAdAsync(placement_id) {\n  const ad_instance = new AdInstance(placement_id,'interstitial');\n  return Promise.resolve(ad_instance);\n}\nexport function getRewardedVideoAsync(placement_id) {\n  const ad_instance = new AdInstance(placement_id,'rewarded');\n  return Promise.resolve(ad_instance);\n}\n\nclass AdInstance {\n  constructor(placement_id,type) {\n    this.placement_id = placement_id;\n    this.type = type;\n  }\n\n  getPlacementID() {\n    return this.placement_id;\n  }\n  loadAsync() {\n    return new Promise((resolve,reject) => {\n      const extra = { placement_id: this.placement_id, type: this.type };\n      sendHost(\"ad_load\",extra,err => {\n        if (err) {\n          reject({ code: err });\n        } else {\n          resolve();\n        }\n      });\n    });\n  }\n  showAsync() {\n    return new Promise((resolve,reject) => {\n      const extra = { placement_id: this.placement_id, type: this.type };\n      sendHost(\"ad_show\",extra,err => {\n        if (err) {\n          reject({ code: err });\n        } else {\n          resolve();\n        }\n      });\n    });\n  }\n}\n","\nimport { initializeAsync, setLoadingProgress, startGameAsync } from './startup.js';\nimport { getInterstitialAdAsync, getRewardedVideoAsync } from './ads.js';\nimport { getLeaderboardAsync } from './leaderboard.js';\nimport { payments } from \"./payments\";\nimport { player } from \"./player\"\nimport { context } from \"./context\";\nimport { log, emitMessage } from './tools/util';\n\nconst HarbourSDK = {\n  emitMessage,\n  player,\n  context,\n  payments,\n  getLocale,\n  initializeAsync,\n  setLoadingProgress,\n  startGameAsync,\n  quit,\n  updateAsync,\n  getEntryPointData,\n  getEntryPointAsync,\n  setSessionData,\n  getPlatform,\n  getSDKVersion,\n  getSupportedAPIs,\n  shareAsync,\n  switchGameAsync,\n  logEvent,\n  onPause,\n  getInterstitialAdAsync,\n  getRewardedVideoAsync,\n  getLeaderboardAsync,\n};\n\nwindow.HarbourSDK = HarbourSDK;\nwindow.FBInstant = window.FBInstant || HarbourSDK;\n\nfunction getLocale() {\n  let locale = \"en-US\";\n  if (window.navigator) {\n    if (window.navigator.language) {\n      locale = window.navigator.language;\n    } else if (window.navigator.languages && window.navigator.languages[0]) {\n      locale = window.navigator.languages[0];\n    }\n  }\n  return locale;\n}\nfunction quit() {\n  window.close();\n}\nfunction updateAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\", });\n}\nfunction getEntryPointData() {\n  return {};\n}\nfunction getEntryPointAsync() {\n  return Promise.resolve(null);\n}\nfunction setSessionData() {\n}\nfunction getPlatform() {\n  return \"WEB\";\n}\nfunction getSDKVersion() {\n  return \"6.2\";\n}\nfunction getSupportedAPIs() {\n  const api_list = [];\n  for (const prop in HarbourSDK) {\n    api_list.push(prop);\n  }\n  for (const prop in HarbourSDK.player) {\n    api_list.push(\"player.\" + prop);\n  }\n  for (const prop in HarbourSDK.context) {\n    api_list.push(\"context.\" + prop);\n  }\n  for (const prop in HarbourSDK.payment) {\n    api_list.push(\"payment.\" + prop);\n  }\n  return api_list;\n}\nfunction shareAsync() {\n  return Promise.reject({ code: \"USER_CANCEL\", });\n}\nfunction switchGameAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\", });\n}\nfunction logEvent(eventName,valueToSum,parameters) {\n  return log(eventName,{ valueToSum, parameters });\n}\nfunction onPause(callback) {\n  window.onblur = callback;\n}\n","\nexport const context = {\n  getID,\n  chooseAsync,\n  switchAsync,\n  createAsync,\n  getType,\n  isSizeBetween,\n  getPlayersAsync,\n};\n\nfunction getID() {\n  return null;\n}\nfunction getType() {\n  return \"SOLO\";\n}\nfunction chooseAsync() {\n  return Promise.reject({ code: \"USER_CANCEL\", });\n}\nfunction createAsync() {\n  return Promise.reject({ code: \"USER_CANCEL\", });\n}\nfunction switchAsync() {\n  return Promise.reject({ code: \"USER_CANCEL\", });\n}\nfunction isSizeBetween() {\n  return null;\n}\nfunction getPlayersAsync() {\n  return Promise.reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\" });\n}\n","\nimport { asyncSeries, hasReactNative } from './tools/util.js';\nimport UI from './ui';\n\nimport Leaderboard from './leaderboard';\nimport Player from './player';\nimport Payments from './payments';\n\nexport function initializeAsync(params) {\n  const force_load = params && params.force_load;\n\n  return new Promise((resolve,reject) => {\n    if (!hasReactNative() && !force_load) {\n      reject({ code: \"CLIENT_UNSUPPORTED_OPERATION\", });\n    } else {\n      UI.addLoader(params);\n\n      asyncSeries([\n        Player.init,\n        Leaderboard.init,\n        Payments.init,\n      ],() => {\n        resolve();\n      })\n    }\n  });\n}\nexport function setLoadingProgress(progress) {\n  UI.setLoaderText(`${progress.toFixed()}% Loaded`);\n}\nexport function startGameAsync() {\n  return new Promise(resolve => {\n    UI.removeLoader();\n    resolve();\n  });\n}\n"],"names":["resolveStyles","obj","args","_addStyle","arg","Array","isArray","forEach","key","s","g_callbackIndex","g_callbackMap","hasReactNative","window","ReactNativeWebView","postMessage","sendHost","event","extra","cb","undefined","callback_index","json","JSON","stringify","log","g_eventMap","onMessage","handler","push","log_event_name","opts","loader_style","backgroundImage","style","background-image","styles","loader","icon_style","iconImage","icon","html","cover","middleLoader","spinner","loaderText","temp","document","createElement","innerHTML","body","appendChild","firstChild","type","createTextNode","head","el","getElementById","removeChild","text","innerText","loginButton","loginIcon","buttonText","login","errorText","_appendHtmlToLoader","player","g_name","g_photo","Promise","reject","code","resolve","getID","done","_onPlayer","g_id","id","name","photo","_onList","g_leaderboardMap","getLeaderboardAsync","leaderboard","list","Leaderboard","this","_this","err","count","score","extraData","_this2","result","timestamp","rank","Player","entry","LeaderboardEntry","_this3","offset","_this4","results","entry_list","map","LeaderboardPlayer","extra_data","payments","callback","AdInstance","placement_id","HarbourSDK","error","stack","locale","navigator","language","languages","params","force_load","addLoader","_run","index","item","init","Payments","progress","setLoaderText","toFixed","removeLoader","close","api_list","prop","context","payment","eventName","valueToSum","parameters","onblur","ad_instance","FBInstant"],"mappings":"yBAkBO,SAASA,QACRC,gCADyBC,mDAGtBC,EAAUC,MACbC,MAAMC,QAAQF,KACZG,QAAQJ,YAEP,IAAMK,KAAOJ,IACZI,GAAOJ,EAAII,IAKXN,OAENO,EAAI,OACH,IAAMD,KAAOP,EAAK,IAEhBO,EAAM,IADCP,EAAIO,GACO,WAElBC,EAkBT,IAAIC,EAAkB,EAChBC,KAEC,SAASC,WACPC,OAAOC,oBAAsBD,OAAOC,mBAAmBC,YAGzD,SAASC,EAASC,EAAMC,EAAMC,QACrBC,IAAVF,MACM,UAENG,SACAF,MACeT,MACHW,GAAkBF,OAE5BG,EAAOC,KAAKC,WAAYP,QAAOC,QAAOG,mBACxCT,WACKE,mBAAmBC,YAAYO,WAE9BG,IAAIH,GAIhB,IAAMI,KACC,SAASC,EAAUV,EAAMW,GAC1BX,KAASS,IACAT,GAAOY,KAAKD,KAEZX,IAAUW,GAuBlB,SAASH,EAAIK,EAAeZ,KACxB,OAAQY,iBAAgBZ,2BCgBnC,SAAmBa,OACbC,YACAD,GAAQA,EAAKE,gBAAiB,KAC1BC,GAAUC,mBAAoB,OAASJ,EAAKE,gBAAkB,OACrDjC,GAAeoC,EAAOC,OAAOH,WAE7BlC,EAAcoC,EAAOC,YAElCC,YACAP,GAAQA,EAAKQ,UAAW,KACpBL,GAAUC,mBAAoB,OAASJ,EAAKQ,UAAY,OACjDvC,GAAeoC,EAAOI,KAAKN,WAE3BlC,EAAcoC,EAAOI,UAG9BC,qCAC2BT,6CACGhC,EAAcoC,EAAOM,yDACpB1C,EAAcoC,EAAOO,6DAClB3C,EAAcoC,EAAOQ,mEAChBN,gEAENtC,EAAcoC,EAAOS,wCAGtDC,EAAOC,SAASC,cAAc,SAC/BC,UAAYR,WAERS,KAAKC,YAAYL,EAAKM,gBAQzBlB,EAAQa,SAASC,cAAc,WAC/BK,KAAO,aACPF,YAAYJ,SAASO,+IAClBC,KAAKJ,YAAYjB,iBAG5B,eACQsB,EAAKT,SAASU,eAAe,2BAC1BP,KAAKQ,YAAYF,kBAG5B,SAAuBG,GACLZ,SAASU,eAAe,uBAChCG,UAAYD,kBAEtB,6DAEgD3D,EAAcoC,EAAOyB,6HAClB7D,EAAcoC,EAAO0B,kZASxD9D,EAAcoC,EAAO2B,yEAKrC,eACQC,EAAQjB,SAASU,eAAe,+BAChCpB,EAASU,SAASU,eAAe,qBAE9BpB,GAAUA,EAAOqB,YAAYM,kBAGxC,4BAEehE,EAAcoC,EAAO6B,oKA/L9B7B,oBAEQ,eACL,SACG,OACF,QACC,aACK,wDACO,gBAEV,wBACS,2BACC,uBACJ,uBACA,6CACA,2BAGJ,aACD,eACL,SACG,OACF,QACC,aACK,0BAEH,wBACS,2BACC,uBACJ,kCAGJ,aACD,iBACH,eACC,wBACS,eACP,yBAGA,eACL,SACG,OACF,QACC,SACC,uBACS,iBACL,iDACO,2BAGT,eACL,SACG,OACF,QACC,SACC,4BACQ,wCACC,gBACN,mEAGA,iBACG,aACP,oBACM,qBACE,qBACA,wBACA,uCAGL,kBACF,qBACO,sBACC,cACR,aACD,mBAEK,0BACK,aACT,kBAEC,wBACS,wBACC,uBACJ,8BAGL,eACL,WACC,aACC,cACC,kCAGO,oBACD,YACP,oBACM,qBACE,gCAGJ,iBACG,eACL,aACF,kBACM,qBACE,uBACD,uBACC,kBA2FnB,SAAS8B,EAAoBzB,OACrBJ,EAASU,SAASU,eAAe,kBACjCX,EAAOC,SAASC,cAAc,SAC/BC,UAAYR,IACVU,YAAYL,EAAKM,gBCrNbe,mBAwCb,kBACSC,YAET,kBACSC,gBAET,kBACSC,QAAQC,QAASC,KAAM,+CAEhC,kBACSF,QAAQC,QAASC,KAAM,gDAEhC,kBACSF,QAAQC,QAASC,KAAM,gDAEhC,kBACSF,QAAQC,QAASC,KAAM,sDAEhC,kBACSF,QAAQC,QAASC,KAAM,iDAEhC,kBACSF,QAAQC,QAASC,KAAM,2DAEhC,kBACSF,QAAQC,QAASC,KAAM,2DAEhC,kBACSF,QAAQG,sBACC,iBAAM,gBACPC,0BAGjB,kBACSJ,QAAQC,QAASC,KAAM,oDAEhC,kBACSF,QAAQC,QAASC,KAAM,2CArDzB,SAAcG,KACT,SAASC,KACV,SAAS,KAAK,4BANrBC,EAAO,EACPT,EAAS,GACTC,EAAU,KASd,SAASO,EAAUT,KACVA,EAAOW,KACLX,EAAOY,OACNZ,EAAOa,MAGnB,SAASN,WA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"}